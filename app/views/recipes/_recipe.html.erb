<%
  #pass mode: :user_only for only rendering that user's recipes (dispenses with 'By: user.name')
  #otherwise, pass mode: :all
%>

<li class="recipe-list-item">
  <div class="recipe-container">

    <div class="recipe-title">
      <a href="<%= recipe_path(recipe) %>">
        <div class="recipe-color"></div>
        <h3 class="recipe-name"><%= recipe.name %></h3>
      </a>
    </div>

    <div class="recipe-meta">
      <% if false %><span class="recipe-style"><%= recipe.style %> &nbsp; &bull; &nbsp;</span><% end %>
      <% unless mode == :user_only %>
        <span class="recipe-author">By: <%= link_to recipe.user.name %> &nbsp; &bull; &nbsp;</span>
      <% end %>
      <span class="recipe-rating">Rating: <%= get_aggregate_rating recipe %></span>
    </div>

  </div>
</li>
